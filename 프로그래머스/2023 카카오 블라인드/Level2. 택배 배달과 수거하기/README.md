## [Level 2] 택배 배달과 수거하기 - 150369

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/150369)

### 구분

코딩테스트 연습 > 카카오 2023 블라인드

### 풀이 요약

그리디 알고리즘으로 풀이한 문제입니다. 그리디 알고리즘이란 매순간 최선의 선택을 하는 알고리즘입니다. 문제에서 적용한 과정은 다음과 같습니다.

1. 배달 및 수거할 택배가 남은 가장 먼 집부터 택배를 배달 및 수거합니다.
2. 트럭이 가장 먼 집으로 이동할 때는 배달만 하고, 다시 물류창고로 돌아올 때는 수거만 합니다.
3. 항상 택배를 최대 개수만큼 배달하고, 물류창고로 돌아갈 때 최대 개수만큼 수거합니다.

쉽게 풀이하자면, 처리할게 있는 가장 먼 집부터 방문해서 다시는 방문하지 않도록 모든 택배를 처리해버리는 것입니다.

여기서 떠날 때는 배달만 하고, 돌아올 때는 수거만 하기 때문에 한 번에 처리할 수 있는 개수는 cap의 개수와 같습니다.

가장 먼 곳부터 방문해야하기 때문에 배열을 뒤집어서 처리해주었고, 처리할 택배의 수가 1이상인 경우 방문해주어야 하기 때문에 왕복 거리 (n-i) \* 2를 더해주었습니다.

### 나의 풀이

```python
def solution(cap, n, deliveries, pickups):
    deliveries = deliveries[::-1]
    pickups = pickups[::-1]
    answer = 0

    have_to_deli = 0
    have_to_pick = 0

    for i in range(n):
        have_to_deli += deliveries[i]
        have_to_pick += pickups[i]

        while have_to_deli > 0 or have_to_pick > 0:
            have_to_deli -= cap
            have_to_pick -= cap
            answer += (n - i) * 2

    return answer

```

### 배운 점

그리디 알고리즘을 적용하는 방법에 대해 배울 수 있었습니다. 첫 시도에서는 모든 배열이 0이 될 때까지 반복하는 while 문 안에 트럭을 이동시키는 while 문을 만들어서 처리해주었습니다. 그러다보니 매번 이동할 인덱스를 구해주어야 하는 번거로움이 있었고, 무한 loop에 빠지는 어려움도 있었습니다.

따라서 공식 문서의 풀이를 보고 그리디 알고리즘에 대해서 학습한 뒤 최적의 선택을 하는 방식에 대해 생각해보게 되었습니다.

'최적의 선택'이라는 단어가 추상적이라고 느껴져서 처음에는 와닿지 않았습니다. 하지만 그리디 알고리즘의 조건이 '이전 선택이 다음 선택에 영향을 주지 않고', '큰 문제를 작게 나누어서 해당 구간마다 최적의 선택을' 할 수 있다는 것을 알게 된 후에는 이 문제에 적합한 알고리즘이라는 것을 이해할 수 있었습니다.

문제를 단순하게 바라보면 갈 때 최대한 멀리까지 가서 최대한 많이 배달하고, 올 때 최대한 많이 수거하면 풀이할 수 있습니다. 이 풀이에서는 구간마다 최적의 선택을 한다는 조건을 만족하고 배달과 수거의 과정을 분리하였기 때문에 이전 선택이 다음 선택에 영향을 주지 않는다는 조건도 만족합니다.

알고리즘 적용에 대한 이해가 꽤 오래걸렸지만 막상 코드로 풀어보니 직관적이고 꽤 간단한 코드로 풀이할 수 있었습니다. 때로는 말로 설명하는 것보다 코드를 보여주는 것이 더 쉽다라는 것이 어떤 것인지 이해할 수 있는 시간이었습니다..ㅎㅎ 알고리즘을 풀면서 하나하나 알아가고 고민하는 과정이 참 재밌는 것 같습니다.

### 문제 설명

당신은 일렬로 나열된 n개의 집에 택배를 배달하려 합니다. 배달할 물건은 모두 크기가 같은 재활용 택배 상자에 담아 배달하며, 배달을 다니면서 빈 재활용 택배 상자들을 수거하려 합니다.
배달할 택배들은 모두 재활용 택배 상자에 담겨서 물류창고에 보관되어 있고, i번째 집은 물류창고에서 거리 i만큼 떨어져 있습니다. 또한 i번째 집은 j번째 집과 거리 j - i만큼 떨어져 있습니다. (1 ≤ i ≤ j ≤ n)

트럭에는 재활용 택배 상자를 최대 cap개 실을 수 있습니다. 트럭은 배달할 재활용 택배 상자들을 실어 물류창고에서 출발해 각 집에 배달하면서, 빈 재활용 택배 상자들을 수거해 물류창고에 내립니다. 각 집마다 배달할 재활용 택배 상자의 개수와 수거할 빈 재활용 택배 상자의 개수를 알고 있을 때, 트럭 하나로 모든 배달과 수거를 마치고 물류창고까지 돌아올 수 있는 최소 이동 거리를 구하려 합니다. 각 집에 배달 및 수거할 때, 원하는 개수만큼 택배를 배달 및 수거할 수 있습니다.

트럭에 실을 수 있는 재활용 택배 상자의 최대 개수를 나타내는 정수 cap, 배달할 집의 개수를 나타내는 정수 n, 각 집에 배달할 재활용 택배 상자의 개수를 담은 1차원 정수 배열 deliveries와 각 집에서 수거할 빈 재활용 택배 상자의 개수를 담은 1차원 정수 배열 pickups가 매개변수로 주어집니다. 이때, 트럭 하나로 모든 배달과 수거를 마치고 물류창고까지 돌아올 수 있는 최소 이동 거리를 return 하도록 solution 함수를 완성해 주세요.

<h4>제한사항</h4>

- 1 ≤ cap ≤ 50
- 1 ≤ n ≤ 100,000
- deliveries의 길이 = pickups의 길이 = n
  - deliveries[i]는 i+1번째 집에 배달할 재활용 택배 상자의 개수를 나타냅니다.
  - pickups[i]는 i+1번째 집에서 수거할 빈 재활용 택배 상자의 개수를 나타냅니다.
  - 0 ≤ deliveries의 원소 ≤ 50
  - 0 ≤ pickups의 원소 ≤ 50
- 트럭의 초기 위치는 물류창고입니다.

<h4>입출력 예</h4>
<table>
        <thead><tr>
<th>cap</th>
<th>n</th>
<th>deliveries</th>
<th>pickups</th>
<th>result</th>
</tr>
</thead>
        <tbody>
<tr>
<td>4</td>
<td>5</td>
<td>[1, 0, 3, 1, 2]</td>
<td>[0, 3, 0, 4, 0]</td>
<td>16</td>
</tr>
</tbody>
      </table>
